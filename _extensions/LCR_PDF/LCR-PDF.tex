% load packages
\usepackage{geometry}
\usepackage{xcolor}
\usepackage{eso-pic}
\usepackage{fancyhdr}
\usepackage{sectsty}
\usepackage{fontspec}
\usepackage{titlesec}

%% Set page size with wider top and left margins
\geometry{letterpaper, total={170mm,257mm}, left=40mm, top=40mm, bottom=20mm, right=20mm}

%% Define LCR colour palette
\definecolor{light}{HTML}{0fbfd5}
\definecolor{highlight}{HTML}{bce3ef}
\definecolor{dark}{HTML}{8f5aa5}

%% Add the logo to the top left 
\AddToShipoutPicture{% 
     % logo
    \AtPageLowerLeft{% start the bar at the bottom right of the page
        \put(0.75cm,\LenToUnit{\dimexpr\paperheight-3.25cm}){% move it to the top left
            \color{light}\includegraphics[height=2.5cm]{_extensions/LCR_PDF/logo.png}
          }%
     }%
}

%% Style the page number to fall below the logo
\fancypagestyle{mystyle}{
  \fancyhf{}
  \renewcommand\headrulewidth{0pt}
  \fancyfoot[L]{\thepage}
  \fancyfootoffset{2cm}
}
\setlength{\footskip}{20pt}

%% style the chapter/section fonts
\chapterfont{\color{dark}\fontsize{20}{16.8}\selectfont}
\sectionfont{\color{dark}\fontsize{20}{16.8}\selectfont}
\subsectionfont{\color{dark}\fontsize{14}{16.8}\selectfont}
\titleformat{\subsection}
  {\sffamily\Large\bfseries}{\thesection}{1em}{}[{\titlerule[0.8pt]}]
  
% left align title
\makeatletter
\renewcommand{\maketitle}{\bgroup\setlength{\parindent}{0pt}
\begin{flushleft}
  {\sffamily\huge\textbf{\MakeUppercase{\@title}}} \vspace{0.3cm} \newline
  {\Large {\@subtitle}} \newline
  \@author
\end{flushleft}\egroup
}
\makeatother

%% Use some custom fonts
\setsansfont{Ubuntu}[
    Path=_extensions/LCR_PDF/Ubuntu/,
    Scale=1.1,
    Extension = .ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    ]

\setmainfont{Ubuntu}[
    Path=_extensions/LCR_PDF/Ubuntu/,
    Scale=1.1,
    Extension = .ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    ]
